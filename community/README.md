# 仿牛客网项目笔记
## 一，开发社区首页
### 1，为DiscussPost表创建实体类
### 2，为DiscussPost表创建查询数据库的方法接口
#### 2.1 自己写分页功能
#### 2.1 使用分页插件`PageHelper`
### 3，把DiscussPost表中的user_id换成user_name
#### 3.1 使用联表查询
#### 3.2 根据DiscussPost中的user_id通过user表的查询方法查询user_name，该方法在后期使用redis效率较高
## 二，开发社区注册功能
### 1，开启邮箱的SMTP服务
### 2，Spring Email
#### 2.1 导入Spring Email 包
#### 2.2 配置相关参数，在配置文件中配置，尽量避免在java程序中配置
#### 2.3 使用`JavaMailSend`发送邮件
##### 2.3.1 创建通用工具包，实现Mail客户端实现类
##### 2.3.2 JavaMailSend只有两个方法，create和send。先创建一个空对象，借助`MimeMessageHelper`配置相关属性，然后调用send方法发送
### 3，点击链接，打开注册页面。
### 4，提交注册数据。
#### 4.1 导入判断常用数据空值情况的包，设置激活邮件的域名，创建一个工具类用来生成uuid和md5加密
#### 4.2 通过表单提交数据
#### 4.3 服务端验证账号是否已经存在，邮箱是否已经注册
#### 4.4 服务端发送校验激活邮件
#### 5，点击邮件中的链接，访问服务端激活邮件
## 三，开发社区登录退出功能
### 1，使用`Kaptcha`插件生成登录验证码
### 2，发送登录请求，跳转至登录页面
### 3，登录
#### 3.1 验证账号，密码，验证码。
#### 3.2 成功时生成登录凭证发送给用户
#### 3.3 失败时跳转回登录页面
### 4，退出
#### 4.1 退出时将凭证修改为失效状态，跳转至网站首页
## 四，显示登录信息
### 1，定义拦截器，实现`HandlerInterceptor`
### 2, 配置拦截器，指定拦截、排除的路径
### 3，拦截器的应用
#### 3.1 在请求开始时查询登录用户
#### 3.2 在本次请求中持有用户数据
#### 3.2.1 一般使用session或者用redis代替，但考虑到线程隔离，使用ThreadLocal存储当前线程的数据
#### 3.3 在模版视图上显示用户数据
#### 3.4 在请求结束时清理用户数据
## 五，账号设置
### 1，上传文件：请求：POST，表单：enctype=“multipart/form-data”，Spring MVC：通过MultipartFile处理上传文件
### 2， 步骤：1，访问账号设置页面。2，上传头像。3，获取头像